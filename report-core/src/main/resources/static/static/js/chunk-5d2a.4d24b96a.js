(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5d2a"],{"7pK9":function(e,t,r){"use strict";r.r(t);var n=r("QbLZ"),o=r.n(n),a=r("14Xm"),s=r.n(a),i=r("D3Ub"),c=r.n(i),u=r("W6l8"),d=r("X4fA"),l={name:"Report",components:{},data:function(){return{password:"",sharePassword:"",dialogVisible:!1,reportCode:"",shareToken:""}},created:function(){this.handleOpen()},methods:{handleOpen:function(){var e=this;return c()(s.a.mark(function t(){var r,n,o,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.location.href,n=r.split("?")[0].substring(r.lastIndexOf("/")+1),t.next=4,Object(u.f)(n);case 4:if(o=t.sent,a=o.code,i=o.data,"200"==a){t.next=9;break}return t.abrupt("return");case 9:e.reportCode=i.reportCode,e.sharePassword=i.sharePassword,e.shareToken=i.shareToken,e.sharePassword?e.dialogVisible=!0:e.pushAj();case 13:case"end":return t.stop()}},t,e)}))()},checkPassword:function(){r("gjeX")(this.password)==this.sharePassword?this.pushAj():this.$message.error("分享码输入不正确")},pushAj:function(){Object(d.h)(this.shareToken);var e=window.location.href,t=this.toUrlParamsMap(e.split("?")[1]),r=o()({},t,{reportCode:this.reportCode});this.$router.push({path:"/bigscreen/viewer",query:r})},toUrlParamsMap:function(e){if(!e)return{};var t={};return e.split("&").map(function(e){return t[e.split("=")[0]]=e.split("=")[1]}),t},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},h=r("KHd+"),p=Object(h.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"请输入分享码",visible:e.dialogVisible,width:"30%","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-input",{attrs:{placeholder:"请输入分享码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkPassword()}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);p.options.__file="shareLink.vue";t.default=p.exports},W6l8:function(e,t,r){"use strict";r.d(t,"g",function(){return o}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return d});var n=r("t3Un");function o(e){return Object(n.a)({url:"reportShare/pageList",method:"GET",params:e})}function a(e){return Object(n.a)({url:"reportDashboard/share",method:"post",data:e})}function s(e){return Object(n.a)({url:"reportExcel/share",method:"post",data:e})}function i(e){return Object(n.a)({url:"reportShare/shareDelay",method:"post",data:e})}function c(e){return Object(n.a)({url:"reportShare/delete/batch",method:"post",data:e})}function u(e){return Object(n.a)({url:"reportShare/"+e.id,method:"get",params:{accessKey:e.accessKey}})}function d(e){return Object(n.a)({url:"reportShare/detailByCode",method:"get",params:{shareCode:e}})}}}]);